!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=66)}([function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(38))},function(t,e,n){var r=n(0),o=n(42),i=n(4),s=n(43),c=n(46),a=n(81),u=o("wks"),f=r.Symbol,l=a?f:f&&f.withoutSetter||s;t.exports=function(t){return i(u,t)||(c&&i(f,t)?u[t]=f[t]:u[t]=l("Symbol."+t)),u[t]}},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(9),o=n(10),i=n(25);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(3);t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(9),o=n(40),i=n(2),s=n(39),c=Object.defineProperty;e.f=r?c:function(t,e,n){if(i(t),e=s(e,!0),i(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(0),o=n(6),i=n(4),s=n(27),c=n(28),a=n(29),u=a.get,f=a.enforce,l=String(String).split("String");(t.exports=function(t,e,n,c){var a=!!c&&!!c.unsafe,u=!!c&&!!c.enumerable,h=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),f(n).source=l.join("string"==typeof e?e:"")),t!==r?(a?!h&&t[e]&&(u=!0):delete t[e],u?t[e]=n:o(t,e,n)):u?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||c(this)}))},function(t,e,n){var r=n(74),o=n(0),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(16),o=n(101).trim;r({target:"String",proto:!0,forced:n(102)("trim")},{trim:function(){return o(this)}})},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function c(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var c=new s(n,r||t,i),a=o?o+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],c]:t._events[a].push(c):(t._events[a]=c,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,s=new Array(i);r<i;r++)s[r]=n[r].fn;return s},u.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,r,i,s){var c=o?o+t:t;if(!this._events[c])return!1;var a,u,f=this._events[c],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,i),!0;case 6:return f.fn.call(f.context,e,n,r,i,s),!0}for(u=1,a=new Array(l-1);u<l;u++)a[u-1]=arguments[u];f.fn.apply(f.context,a)}else{var h,p=f.length;for(u=0;u<p;u++)switch(f[u].once&&this.removeListener(t,f[u].fn,void 0,!0),l){case 1:f[u].fn.call(f[u].context);break;case 2:f[u].fn.call(f[u].context,e);break;case 3:f[u].fn.call(f[u].context,e,n);break;case 4:f[u].fn.call(f[u].context,e,n,r);break;default:if(!a)for(h=1,a=new Array(l-1);h<l;h++)a[h-1]=arguments[h];f[u].fn.apply(f[u].context,a)}}return!0},u.prototype.on=function(t,e,n){return c(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return c(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||a(this,i);else{for(var c=0,u=[],f=s.length;c<f;c++)(s[c].fn!==e||r&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&a(this,e)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,t.exports=u},function(t,e,n){var r=n(0),o=n(24).f,i=n(6),s=n(11),c=n(27),a=n(72),u=n(45);t.exports=function(t,e){var n,f,l,h,p,d=t.target,v=t.global,y=t.stat;if(n=v?r:y?r[d]||c(d,{}):(r[d]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(p=o(n,f))&&p.value:n[f],!u(v?f:d+(y?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;a(h,l)}(t.sham||l&&l.sham)&&i(h,"sham",!0),s(n,f,h,t)}}},function(t,e,n){var r=n(70),o=n(8);t.exports=function(t){return r(o(t))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(20),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r=n(16),o=n(96),i=n(8);r({target:"String",proto:!0,forced:!n(97)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r,o,i,s,c=n(16),a=n(18),u=n(0),f=n(12),l=n(79),h=n(11),p=n(80),d=n(33),v=n(82),y=n(5),g=n(21),b=n(83),m=n(7),w=n(28),O=n(84),x=n(90),S=n(48),_=n(49).set,C=n(91),E=n(92),j=n(93),P=n(53),T=n(94),A=n(29),k=n(45),I=n(1),R=n(95),F=I("species"),L="Promise",M=A.get,D=A.set,N=A.getterFor(L),U=l,q=u.TypeError,B=u.document,W=u.process,G=f("fetch"),J=P.f,$=J,H="process"==m(W),z=!!(B&&B.createEvent&&u.dispatchEvent),V=k(L,(function(){if(!(w(U)!==String(U))){if(66===R)return!0;if(!H&&"function"!=typeof PromiseRejectionEvent)return!0}if(a&&!U.prototype.finally)return!0;if(R>=51&&/native code/.test(U))return!1;var t=U.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[F]=e,!(t.then((function(){}))instanceof e)})),K=V||!x((function(t){U.all(t).catch((function(){}))})),Y=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},Q=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;C((function(){for(var o=e.value,i=1==e.state,s=0;r.length>s;){var c,a,u,f=r[s++],l=i?f.ok:f.fail,h=f.resolve,p=f.reject,d=f.domain;try{l?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?c=o:(d&&d.enter(),c=l(o),d&&(d.exit(),u=!0)),c===f.promise?p(q("Promise-chain cycle")):(a=Y(c))?a.call(c,h,p):h(c)):p(o)}catch(t){d&&!u&&d.exit(),p(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Z(t,e)}))}},X=function(t,e,n){var r,o;z?((r=B.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},(o=u["on"+t])?o(r):"unhandledrejection"===t&&j("Unhandled promise rejection",n)},Z=function(t,e){_.call(u,(function(){var n,r=e.value;if(tt(e)&&(n=T((function(){H?W.emit("unhandledRejection",r,t):X("unhandledrejection",t,r)})),e.rejection=H||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){_.call(u,(function(){H?W.emit("rejectionHandled",t):X("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(o){t(e,n,o,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Q(t,e,!0))},ot=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw q("Promise can't be resolved itself");var o=Y(n);o?C((function(){var r={done:!1};try{o.call(n,nt(ot,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,Q(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};V&&(U=function(t){b(this,U,L),g(t),r.call(this);var e=M(this);try{t(nt(ot,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){D(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(U.prototype,{then:function(t,e){var n=N(this),r=J(S(this,U));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=H?W.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Q(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=M(t);this.promise=t,this.resolve=nt(ot,t,e),this.reject=nt(rt,t,e)},P.f=J=function(t){return t===U||t===i?new o(t):$(t)},a||"function"!=typeof l||(s=l.prototype.then,h(l.prototype,"then",(function(t,e){var n=this;return new U((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof G&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return E(U,G.apply(u,arguments))}}))),c({global:!0,wrap:!0,forced:V},{Promise:U}),d(U,L,!1,!0),v(L),i=f(L),c({target:L,stat:!0,forced:V},{reject:function(t){var e=J(this);return e.reject.call(void 0,t),e.promise}}),c({target:L,stat:!0,forced:a||V},{resolve:function(t){return E(a&&this===i?U:this,t)}}),c({target:L,stat:!0,forced:K},{all:function(t){var e=this,n=J(e),r=n.resolve,o=n.reject,i=T((function(){var n=g(e.resolve),i=[],s=0,c=1;O(t,(function(t){var a=s++,u=!1;i.push(void 0),c++,n.call(e,t).then((function(t){u||(u=!0,i[a]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=J(e),r=n.reject,o=T((function(){var o=g(e.resolve);O(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(9),o=n(69),i=n(25),s=n(17),c=n(39),a=n(4),u=n(40),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=c(e,!0),u)try{return f(t,e)}catch(t){}if(a(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(0),o=n(5),i=r.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},function(t,e,n){var r=n(0),o=n(6);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(41),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r,o,i,s=n(71),c=n(0),a=n(5),u=n(6),f=n(4),l=n(30),h=n(31),p=c.WeakMap;if(s){var d=new p,v=d.get,y=d.has,g=d.set;r=function(t,e){return g.call(d,t,e),e},o=function(t){return v.call(d,t)||{}},i=function(t){return y.call(d,t)}}else{var b=l("state");h[b]=!0,r=function(t,e){return u(t,b,e),e},o=function(t){return f(t,b)?t[b]:{}},i=function(t){return f(t,b)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!a(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(42),o=n(43),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(10).f,o=n(4),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(55),o=n(2),i=n(56),s=n(19),c=n(20),a=n(8),u=n(57),f=n(58),l=Math.max,h=Math.min,p=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){return[function(n,r){var o=a(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,i){if(r.REPLACE_KEEPS_$0||"string"==typeof i&&-1===i.indexOf("$0")){var a=n(e,t,this,i);if(a.done)return a.value}var p=o(t),d=String(this),v="function"==typeof i;v||(i=String(i));var g=p.global;if(g){var b=p.unicode;p.lastIndex=0}for(var m=[];;){var w=f(p,d);if(null===w)break;if(m.push(w),!g)break;""===String(w[0])&&(p.lastIndex=u(d,s(p.lastIndex),b))}for(var O,x="",S=0,_=0;_<m.length;_++){w=m[_];for(var C=String(w[0]),E=l(h(c(w.index),d.length),0),j=[],P=1;P<w.length;P++)j.push(void 0===(O=w[P])?O:String(O));var T=w.groups;if(v){var A=[C].concat(j,E,d);void 0!==T&&A.push(T);var k=String(i.apply(void 0,A))}else k=y(C,d,E,j,T,i);E>=S&&(x+=d.slice(S,E)+k,S=E+C.length)}return x+d.slice(S)}];function y(t,n,r,o,s,c){var a=r+t.length,u=o.length,f=v;return void 0!==s&&(s=i(s),f=d),e.call(c,f,(function(e,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(a);case"<":c=s[i.slice(1,-1)];break;default:var f=+i;if(0===f)return e;if(f>u){var l=p(f/10);return 0===l?e:l<=u?void 0===o[l-1]?i.charAt(1):o[l-1]+i.charAt(1):e}c=o[f-1]}return void 0===c?"":c}))}}))},function(t,e,n){"use strict";var r,o,i=n(98),s=n(99),c=RegExp.prototype.exec,a=String.prototype.replace,u=c,f=(r=/a/,o=/b*/g,c.call(r,"a"),c.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=s.UNSUPPORTED_Y||s.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(f||h||l)&&(u=function(t){var e,n,r,o,s=this,u=l&&s.sticky,p=i.call(s),d=s.source,v=0,y=t;return u&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),y=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(d="(?: "+d+")",y=" "+y,v++),n=new RegExp("^(?:"+d+")",p)),h&&(n=new RegExp("^"+d+"$(?!\\s)",p)),f&&(e=s.lastIndex),r=c.call(u?n:s,y),u?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:f&&r&&(s.lastIndex=s.global?r.index+r[0].length:e),h&&r&&r.length>1&&a.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=u},function(t,e,n){(function(r){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))}),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(118)(e);const{formatters:o}=t.exports;o.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(117))},function(t,e,n){"use strict";n(23),n(22),n(34),n(14),n(103),Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PERMISSIONS_DENY=e.PERMISSIONS_READONLY=e.PERMISSIONS_READWRITE=e.AUTHENTICATION_REQUEST=e.NOTIFICATIONS_SUBSCRIPTION=e.SUBSCRIPTION_NAME=void 0;var r=f(n(15)),o=f(n(114)),i=f(n(120)),s=f(n(121)),c=f(n(124)),a=f(n(36)),u=n(63);function f(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const d=(0,a.default)("signalk-js-sdk/Client"),v="default";e.SUBSCRIPTION_NAME=v;const y="__NOTIFICATIONS__";e.NOTIFICATIONS_SUBSCRIPTION=y;const g="__AUTHENTICATION_REQUEST__";e.AUTHENTICATION_REQUEST=g;e.PERMISSIONS_READWRITE="readwrite";e.PERMISSIONS_READONLY="readonly";e.PERMISSIONS_DENY="denied";class b extends r.default{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.options=h({hostname:"localhost",port:3e3,useTLS:!0,useAuthentication:!1,notifications:!0,version:"v1",autoConnect:!1,reconnect:!0,maxRetries:100,mdns:null,username:null,password:null},t),this.api=null,this.connection=null,this.subscriptions={},this.services=[],this.notifications={},this.requests={},this.fetchReady=null,!0===this.options.autoConnect&&this.connect().catch(t=>this.emit("error",t))}set(t,e){return this.options[t]=e,this}get(t){return this.options[t]||null}requestDeviceAccess(t,e){const n="string"==typeof e?e:(0,u.v4)();return this.connection.fetch("/access/requests",{method:"POST",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientId:n,description:t})}).then(t=>({clientId:n,response:t}))}respondToAccessRequest(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1y";return this.connection.fetch("/security/access/requests/".concat(t,"/").concat("denied"===e?"denied":"approved"),{method:"PUT",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({expiration:n,permissions:e})})}authenticate(t,e){const n=this.request(g,{login:{username:t,password:e}});n.on("response",t=>{if(200===t.statusCode&&t.hasOwnProperty("login")&&"object"==typeof t.login&&t.login.hasOwnProperty("token"))return this.connection.setAuthenticated(t.login.token),this.emit("authenticated",{token:t.login.token});this.emit("error",new Error("Error authenticating: status ".concat(t.statusCode)))}),n.send()}request(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.requests.hasOwnProperty(t)||(this.requests[t]=new s.default(this.connection,t,e),d('Registered request "'.concat(t,'" with ID ').concat(this.requests[t].getRequestId()))),this.requests[t]}connect(){return null!==this.connection?(this.connection.reconnect(!0),Promise.resolve(this.connection)):new Promise((t,e)=>{this.connection=new o.default(this.options),this.connection.on("disconnect",t=>this.emit("disconnect",t)),this.connection.on("message",t=>this.emit("message",t)),this.connection.on("connectionInfo",t=>this.emit("connectionInfo",t)),this.connection.on("self",t=>this.emit("self",t)),this.connection.on("hitMaxRetries",()=>this.emit("hitMaxRetries")),this.connection.on("connect",()=>{!0===this.options.notifications&&this.subscribeToNotifications(),d("Connected. ".concat(0===Object.keys(this.subscriptions).length?"":"Resubscribing")),Object.keys(this.subscriptions).forEach(t=>{if(t===y)return;d("Re-subscribing: ".concat(t));const e=this.subscriptions[t].getSubscriptionData();this.unsubscribe(t,!1),this.subscribe(e.options,t)}),this.emit("connect"),t(this.connection)}),this.connection.on("fetchReady",()=>{this.fetchReady=!0}),this.connection.on("error",t=>{this.emit("error",t),e(t)})})}disconnect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.keys(this.subscriptions).length>0&&Object.keys(this.subscriptions).forEach(t=>{this.subscriptions[t].unsubscribe(),delete this.subscriptions[t]}),null!==this.connection?(this.connection.on("disconnect",()=>{this.cleanupListeners(),this.connection=null}),this.connection.disconnect()):this.cleanupListeners(),null!==this.api&&(this.api=null),!0===t?Promise.resolve(this):this}cleanupListeners(){this.removeAllListeners("self"),this.removeAllListeners("connectionInfo"),this.removeAllListeners("message"),this.removeAllListeners("delta"),this.removeAllListeners("connect"),this.removeAllListeners("error"),this.removeAllListeners("hitMaxRetries"),this.removeAllListeners("disconnect"),this.removeAllListeners("unsubscribe"),this.removeAllListeners("subscribe")}API(){return null===this.connection?Promise.reject(new Error("There are no available connections. Please connect before you use the REST API.")):null!==this.api?Promise.resolve(this.api):new Promise(t=>{if(this.api=new c.default(this.connection),!0===this.fetchReady||!1===this.options.useAuthentication)return t(this.api);this.connection.on("fetchReady",()=>{t(this.api)})})}subscription(){const t=v;return this.subscriptions.hasOwnProperty(t)?this.subscriptions[t]:null}subscribe(t,e){const n="string"==typeof e&&""!==e.trim()?e:v;return null===this.connection?(d("Can't subscribe: no connections"),Promise.reject(new Error("There are no available connections. Please connect before subscribe."))):(null===this.api&&(this.api=new c.default(this.connection)),this.subscriptions.hasOwnProperty(n)&&this.subscriptions[n]?(d("Can't subscribe: subscription exists"),Promise.resolve(this.subscriptions[n])):(this.subscriptions[n]=new i.default(this.connection,this.api,t,n),this.subscriptions[n].on("unsubscribe",()=>this.emit("unsubscribe")),this.subscriptions[n].on("subscribe",()=>this.emit("subscribe",this.subscriptions[n])),this.subscriptions[n].on("delta",t=>this.emit("delta",t)),this.subscriptions[n].on("error",t=>this.emit("error",t)),this.subscriptions[n].subscribe()))}unsubscribe(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=t||v,this.subscriptions.hasOwnProperty(t)&&this.subscriptions[t]&&(this.subscriptions[t].unsubscribe(),this.subscriptions[t]=null,delete this.subscriptions[t],!0===e&&(this.removeAllListeners("subscribe"),this.removeAllListeners("unsubscribe"),this.removeAllListeners("delta")))}subscribeToNotifications(){if(null===this.connection)return Promise.reject(new Error("There are no available connections. Please connect before subscribe."));if(null===this.api&&(this.api=new c.default(this.connection)),this.api.notifications().then(t=>{this.notifications=h({},this.notifications,{},m(t)),Object.keys(this.notifications).forEach(t=>{const e=h({path:t},this.notifications[t]);d("[subscribeToNotifications] emitting initial notification: ".concat(JSON.stringify(e,null,2))),this.emit("notification",e)})}).catch(t=>{d("[subscribeToNotifications] error getting initial notifications: ".concat(t.message))}),this.subscriptions.hasOwnProperty(y))return Promise.resolve(this.subscriptions[y]);return this.subscriptions[y]=new i.default(this.connection,this.api,{context:"vessels.self",subscribe:[{path:"notifications.*",policy:"instant"}]},y),this.subscriptions[y].on("unsubscribe",()=>this.emit("unsubscribe")),this.subscriptions[y].on("subscribe",()=>this.emit("subscribe",this.subscriptions[y])),this.subscriptions[y].on("error",t=>this.emit("error",t)),this.subscriptions[y].on("delta",t=>{if(!t||"object"!=typeof t)return;if(!Array.isArray(t.updates))return;const e={};t.updates.forEach(t=>{Array.isArray(t.values)&&t.values.forEach(t=>{"string"==typeof t.path&&t.path.includes("notifications.")&&(e[t.path.replace("notifications.","")]=h({},t.value))})}),Object.keys(e).forEach(t=>{if(!this.notifications.hasOwnProperty(t)||this.notifications[t].timestamp!==e[t].timestamp){this.notifications[t]=h({},e[t]);const n=h({path:t},this.notifications[t]);d("[subscribeToNotifications] emitting notification: ".concat(JSON.stringify(n,null,2))),this.emit("notification",n)}})}),this.subscriptions[y].subscribe()}}e.default=b;const m=t=>{const e={};let n=t,r="";const o=t=>{r+="".concat(""===r?"":".").concat(t),n=n[t],n&&"object"==typeof n&&(n&&"object"==typeof n&&n.hasOwnProperty("value")?e[r]=Object.assign({},n.value):Object.keys(n).forEach(o))};return Object.keys(n).forEach(t=>o(t)),e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(9),o=n(3),i=n(26);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(0),o=n(27),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(18),o=n(41);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.1",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(4),o=n(17),i=n(76).indexOf,s=n(31);t.exports=function(t,e){var n,c=o(t),a=0,u=[];for(n in c)!r(s,n)&&r(c,n)&&u.push(n);for(;e.length>a;)r(c,n=e[a++])&&(~i(u,n)||u.push(n));return u}},function(t,e,n){var r=n(3),o=/#|\.prototype\./,i=function(t,e){var n=c[s(t)];return n==u||n!=a&&("function"==typeof e?r(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=i.data={},a=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(3);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(21);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(2),o=n(21),i=n(1)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[i])?e:o(n)}},function(t,e,n){var r,o,i,s=n(0),c=n(3),a=n(7),u=n(47),f=n(50),l=n(26),h=n(51),p=s.location,d=s.setImmediate,v=s.clearImmediate,y=s.process,g=s.MessageChannel,b=s.Dispatch,m=0,w={},O=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},x=function(t){return function(){O(t)}},S=function(t){O(t.data)},_=function(t){s.postMessage(t+"",p.protocol+"//"+p.host)};d&&v||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(m),m},v=function(t){delete w[t]},"process"==a(y)?r=function(t){y.nextTick(x(t))}:b&&b.now?r=function(t){b.now(x(t))}:g&&!h?(i=(o=new g).port2,o.port1.onmessage=S,r=u(i.postMessage,i,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||c(_)?r="onreadystatechange"in l("script")?function(t){f.appendChild(l("script")).onreadystatechange=function(){f.removeChild(this),O(t)}}:function(t){setTimeout(x(t),0)}:(r=_,s.addEventListener("message",S,!1))),t.exports={set:d,clear:v}},function(t,e,n){var r=n(12);t.exports=r("document","documentElement")},function(t,e,n){var r=n(52);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(12);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";var r=n(21),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){var r=n(5),o=n(7),i=n(1)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){"use strict";var r=n(11),o=n(3),i=n(1),s=n(35),c=n(6),a=i("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f="$0"==="a".replace(/./,"$0"),l=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var p=i(t),d=!o((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),v=d&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[a]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!d||!v||"replace"===t&&(!u||!f)||"split"===t&&!l){var y=/./[p],g=n(p,""[t],(function(t,e,n,r,o){return e.exec===s?d&&!o?{done:!0,value:y.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:f}),b=g[0],m=g[1];r(String.prototype,t,b),r(RegExp.prototype,p,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}h&&c(RegExp.prototype[p],"sham",!0)}},function(t,e,n){var r=n(8);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(100).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(7),o=n(35);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){var r,o=n(2),i=n(107),s=n(32),c=n(31),a=n(50),u=n(26),f=n(30),l=f("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=s.length;n--;)delete d.prototype[s[n]];return d()};c[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=o(t),n=new h,h.prototype=null,n[l]=t):n=d(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";var r,o,i,s=n(62),c=n(6),a=n(4),u=n(1),f=n(18),l=u("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):h=!0),null==r&&(r={}),f||a(r,l)||c(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(4),o=n(56),i=n(30),s=n(111),c=i("IE_PROTO"),a=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=o(t),r(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(122),o=n(123),i=o;i.v1=r,i.v4=o,t.exports=i},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){window.SignalK=n(67)},function(t,e,n){t.exports=n(68)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Discovery=e.Client=void 0;var r=i(n(37)),o=i(n(125));function i(t){return t&&t.__esModule?t:{default:t}}
/**
 * @author        Fabian Tollenaar <fabian@decipher.industries>
 * @copyright     2018-2019, Fabian Tollenaar. All rights reserved.
 * @license       Apache-2.0
 * @module        @signalk/signalk-js-sdk
 */const s=r.default;e.Client=s;const c=o.default;e.Discovery=c;var a=r.default;e.default=a},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(3),o=n(7),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(0),o=n(28),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(4),o=n(73),i=n(24),s=n(10);t.exports=function(t,e){for(var n=o(e),c=s.f,a=i.f,u=0;u<n.length;u++){var f=n[u];r(t,f)||c(t,f,a(e,f))}}},function(t,e,n){var r=n(12),o=n(75),i=n(78),s=n(2);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(0);t.exports=r},function(t,e,n){var r=n(44),o=n(32).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(17),o=n(19),i=n(77),s=function(t){return function(e,n,s){var c,a=r(e),u=o(a.length),f=i(s,u);if(t&&n!=n){for(;u>f;)if((c=a[f++])!=c)return!0}else for(;u>f;f++)if((t||f in a)&&a[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var r=n(20),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(0);t.exports=r.Promise},function(t,e,n){var r=n(11);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(46);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){"use strict";var r=n(12),o=n(10),i=n(1),s=n(9),c=i("species");t.exports=function(t){var e=r(t),n=o.f;s&&e&&!e[c]&&n(e,c,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(2),o=n(85),i=n(19),s=n(47),c=n(86),a=n(89),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,f,l){var h,p,d,v,y,g,b,m=s(e,n,f?2:1);if(l)h=t;else{if("function"!=typeof(p=c(t)))throw TypeError("Target is not iterable");if(o(p)){for(d=0,v=i(t.length);v>d;d++)if((y=f?m(r(b=t[d])[0],b[1]):m(t[d]))&&y instanceof u)return y;return new u(!1)}h=p.call(t)}for(g=h.next;!(b=g.call(h)).done;)if("object"==typeof(y=a(h,m,b.value,f))&&y&&y instanceof u)return y;return new u(!1)}).stop=function(t){return new u(!0,t)}},function(t,e,n){var r=n(1),o=n(13),i=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},function(t,e,n){var r=n(87),o=n(13),i=n(1)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(88),o=n(7),i=n(1)("toStringTag"),s="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:s?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r={};r[n(1)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(2);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(1)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r,o,i,s,c,a,u,f,l=n(0),h=n(24).f,p=n(7),d=n(49).set,v=n(51),y=l.MutationObserver||l.WebKitMutationObserver,g=l.process,b=l.Promise,m="process"==p(g),w=h(l,"queueMicrotask"),O=w&&w.value;O||(r=function(){var t,e;for(m&&(t=g.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?s():i=void 0,t}}i=void 0,t&&t.enter()},m?s=function(){g.nextTick(r)}:y&&!v?(c=!0,a=document.createTextNode(""),new y(r).observe(a,{characterData:!0}),s=function(){a.data=c=!c}):b&&b.resolve?(u=b.resolve(void 0),f=u.then,s=function(){f.call(u,r)}):s=function(){d.call(l,r)}),t.exports=O||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,s()),i=e}},function(t,e,n){var r=n(2),o=n(5),i=n(53);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r,o,i=n(0),s=n(52),c=i.process,a=c&&c.versions,u=a&&a.v8;u?o=(r=u.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){var r=n(54);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(1)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(2);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(3);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){var r=n(20),o=n(8),i=function(t){return function(e,n){var i,s,c=String(o(e)),a=r(n),u=c.length;return a<0||a>=u?t?"":void 0:(i=c.charCodeAt(a))<55296||i>56319||a+1===u||(s=c.charCodeAt(a+1))<56320||s>57343?t?c.charAt(a):i:t?c.slice(a,a+2):s-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){var r=n(8),o="["+n(59)+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},function(t,e,n){var r=n(3),o=n(59);t.exports=function(t){return r((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},function(t,e,n){var r=n(0),o=n(104),i=n(105),s=n(6),c=n(1),a=c("iterator"),u=c("toStringTag"),f=i.values;for(var l in o){var h=r[l],p=h&&h.prototype;if(p){if(p[a]!==f)try{s(p,a,f)}catch(t){p[a]=f}if(p[u]||s(p,u,l),o[l])for(var d in i)if(p[d]!==i[d])try{s(p,d,i[d])}catch(t){p[d]=i[d]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(17),o=n(106),i=n(13),s=n(29),c=n(109),a=s.set,u=s.getterFor("Array Iterator");t.exports=c(Array,"Array",(function(t,e){a(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(1),o=n(60),i=n(10),s=r("unscopables"),c=Array.prototype;null==c[s]&&i.f(c,s,{configurable:!0,value:o(null)}),t.exports=function(t){c[s][t]=!0}},function(t,e,n){var r=n(9),o=n(10),i=n(2),s=n(108);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=s(e),c=r.length,a=0;c>a;)o.f(t,n=r[a++],e[n]);return t}},function(t,e,n){var r=n(44),o=n(32);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){"use strict";var r=n(16),o=n(110),i=n(62),s=n(112),c=n(33),a=n(6),u=n(11),f=n(1),l=n(18),h=n(13),p=n(61),d=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,y=f("iterator"),g=function(){return this};t.exports=function(t,e,n,f,p,b,m){o(n,e,f);var w,O,x,S=function(t){if(t===p&&P)return P;if(!v&&t in E)return E[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},_=e+" Iterator",C=!1,E=t.prototype,j=E[y]||E["@@iterator"]||p&&E[p],P=!v&&j||S(p),T="Array"==e&&E.entries||j;if(T&&(w=i(T.call(new t)),d!==Object.prototype&&w.next&&(l||i(w)===d||(s?s(w,d):"function"!=typeof w[y]&&a(w,y,g)),c(w,_,!0,!0),l&&(h[_]=g))),"values"==p&&j&&"values"!==j.name&&(C=!0,P=function(){return j.call(this)}),l&&!m||E[y]===P||a(E,y,P),h[e]=P,p)if(O={values:S("values"),keys:b?P:S("keys"),entries:S("entries")},m)for(x in O)!v&&!C&&x in E||u(E,x,O[x]);else r({target:e,proto:!0,forced:v||C},O);return O}},function(t,e,n){"use strict";var r=n(61).IteratorPrototype,o=n(60),i=n(25),s=n(33),c=n(13),a=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),s(t,u,!1,!0),c[u]=a,t}},function(t,e,n){var r=n(3);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(2),o=n(113);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";n(23),n(22),n(34),n(14),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(15)),o=s(n(115)),i=s(n(116));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const u=(0,s(n(36)).default)("signalk-js-sdk/Connection");class f extends r.default{constructor(t){super(),this.options=t,this.httpURI=this.buildURI("http"),this.wsURI=this.buildURI("ws"),this.shouldDisconnect=!1,this.connected=!1,this.socket=null,this.lastMessage=-1,this.isConnecting=!1,this._fetchReady=!1,this._bearerTokenPrefix=this.options.bearerTokenPrefix||"Bearer",this._authenticated=!1,this._retries=0,this._connection=null,this._self="",this.onWSMessage=this._onWSMessage.bind(this),this.onWSOpen=this._onWSOpen.bind(this),this.onWSClose=this._onWSClose.bind(this),this.onWSError=this._onWSError.bind(this),this._token={kind:"",token:""},this.reconnect(!0)}set self(t){null!==t&&this.emit("self",t),this._self=t}get self(){return this._self}set connectionInfo(t){null!==t&&this.emit("connectionInfo",t),this._connection=t,this.self=t.self}get connectionInfo(){return this._connection}buildURI(t){let e=!0===this.options.useTLS?"".concat(t,"s://"):"".concat(t,"://");return e+=this.options.hostname,e+=80===this.options.port?"":":".concat(this.options.port),e+="/signalk/",e+=this.options.version,"ws"===t&&(e+="/stream?subscribe=none"),"http"===t&&(e+="/api"),e}state(){return{connecting:this.isConnecting,connected:this.connected,ready:this.fetchReady}}disconnect(){u("[disconnect] called"),this.shouldDisconnect=!0,this.reconnect()}reconnect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.isConnecting)return;if(null!==this.socket)return u("[reconnect] closing socket"),void this.socket.close();if(!0!==t&&this._retries===this.options.maxRetries)return this.emit("hitMaxRetries"),void this.cleanupListeners();if(!0!==t&&!1===this.options.reconnect)return u("[reconnect] Not reconnecting, for reconnect is false"),void this.cleanupListeners();if(!0!==t&&!0===this.shouldDisconnect)return u("[reconnect] not reconnecting, shouldDisconnect is true"),void this.cleanupListeners();if(u("[reconnect] socket is ".concat(null===this.socket?"":"not ","NULL")),this._fetchReady=!1,this.shouldDisconnect=!1,this.isConnecting=!0,!1===this.options.useAuthentication)return this._fetchReady=!0,this.emit("fetchReady"),void this.initiateSocket();const e={method:"POST",mode:"cors",credentials:"same-origin",body:JSON.stringify({username:String(this.options.username||""),password:String(this.options.password||"")})};return this.fetch("/auth/login",e).then(t=>{if(!t||"object"!=typeof t||!t.hasOwnProperty("token"))throw new Error("Unexpected response from auth endpoint: ".concat(JSON.stringify(t)));u("[reconnect] successful auth request: ".concat(JSON.stringify(t,null,2))),this._authenticated=!0,this._token={kind:"string"==typeof t.type&&""!==t.type.trim()?t.type:this._bearerTokenPrefix,token:t.token},this._fetchReady=!0,this.emit("fetchReady"),this.initiateSocket()}).catch(t=>(u("[reconnect] error logging in: ".concat(t.message,", reconnecting")),this.emit("error",t),this._retries+=1,this.isConnecting=!1,this.reconnect()))}setAuthenticated(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"JWT";this.emit("fetchReady"),this._authenticated=!0,this._token={kind:e,token:t}}initiateSocket(){this.socket=new o.default(this.wsURI),this.socket.addEventListener("message",this.onWSMessage),this.socket.addEventListener("open",this.onWSOpen),this.socket.addEventListener("error",this.onWSError),this.socket.addEventListener("close",this.onWSClose)}cleanupListeners(){u("[cleanupListeners] resetting auth and removing listeners"),this._authenticated=!1,this._token={kind:"",token:""},this.removeAllListeners()}_onWSMessage(t){this.lastMessage=Date.now();let e=t.data;try{"string"==typeof e&&(e=JSON.parse(e))}catch(t){console.log("[Connection: ".concat(this.options.hostname,"] Error parsing data: ").concat(t.message))}e&&"object"==typeof e&&e.hasOwnProperty("name")&&e.hasOwnProperty("version")&&e.hasOwnProperty("roles")&&(this.connectionInfo=e),this.emit("message",e)}_onWSOpen(){this.connected=!0,this.isConnecting=!1,this.emit("connect")}_onWSError(t){u("[_onWSError] WS error",t.message||""),this._retries+=1,this.emit("error",t),this.reconnect()}_onWSClose(t){u("[_onWSClose] called with wsURI:",this.wsURI),this.socket.removeEventListener("message",this.onWSMessage),this.socket.removeEventListener("open",this.onWSOpen),this.socket.removeEventListener("error",this.onWSError),this.socket.removeEventListener("close",this.onWSClose),this.connected=!1,this.isConnecting=!1,this.socket=null,this._retries+=1,this.emit("disconnect",t),this.reconnect()}send(t){if(!0!==this.connected||null===this.socket)return Promise.reject(new Error("Not connected to WebSocket"));if("string"==typeof t)try{t=JSON.parse(t)}catch(t){u("[send] data is string but not valid JSON: ".concat(t.message))}const e=t&&"object"==typeof t;e&&!0===this.useAuthentication&&!0===this._authenticated&&(t.token=String(this._token.token));try{e&&(t=JSON.stringify(t))}catch(t){return Promise.reject(t)}u("Sending data to socket: ".concat(t)),this.socket.send(t)}fetch(t,e){"/"!==t.charAt(0)&&(t="/".concat(t)),e&&"object"==typeof e||(e={method:"GET"}),e.headers&&"object"==typeof e.headers||(e.headers={Accept:"application/json","Content-Type":"application/json"}),!0!==this._authenticated||t.includes("auth/login")||(e.headers=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e.headers,{Authorization:"".concat(this._token.kind," ").concat(this._token.token)}),e.credentials="same-origin",e.mode="cors",u("[fetch] enriching fetch options with in-memory token"));let n="".concat(this.httpURI).concat(t);return n.includes("/api/auth/login")&&(n=n.replace("/api/auth/login","/auth/login")),n.includes("/api/access/requests")&&(n=n.replace("/api/access/requests","/access/requests")),n.includes("/signalk/v1/api/security")&&(n=n.replace("/signalk/v1/api/security","/security")),u("[fetch] ".concat(e.method||"GET"," ").concat(n," ").concat(JSON.stringify(e,null,2))),(0,i.default)(n,e).then(t=>{if(!t.ok)throw new Error("Error fetching ".concat(n,": ").concat(t.status," ").concat(t.statusText));return t.headers.get("content-type").includes("application/json")?t.json():t.text()})}}e.default=f},function(t,e,n){(function(e){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:void 0!==e?n=e.WebSocket||e.MozWebSocket:"undefined"!=typeof window?n=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),t.exports=n}).call(this,n(38))},function(t,e){var n=function(t){function e(){this.fetch=!1,this.DOMException=t.DOMException}return e.prototype=t,new e}("undefined"!=typeof self?self:this);!function(t){!function(e){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};function i(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n.iterable&&(e[Symbol.iterator]=function(){return e}),e}function a(t){this.map={},t instanceof a?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function l(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:n.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n.arrayBuffer&&n.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var t,e,n,r=u(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=f(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}a.prototype.append=function(t,e){t=i(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},a.prototype.delete=function(t){delete this.map[i(t)]},a.prototype.get=function(t){return t=i(t),this.has(t)?this.map[t]:null},a.prototype.has=function(t){return this.map.hasOwnProperty(i(t))},a.prototype.set=function(t,e){this.map[i(t)]=s(e)},a.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},a.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),c(t)},a.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),c(t)},a.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),c(t)},n.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var n,r,o=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new a(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),d.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function g(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new a(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},p.call(v.prototype),p.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];g.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function m(t,r){return new Promise((function(o,i){var s=new v(t,r);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function u(){c.abort()}c.onload=function(){var t,e,n={status:c.status,statusText:c.statusText,headers:(t=c.getAllResponseHeaders()||"",e=new a,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};n.url="responseURL"in c?c.responseURL:n.headers.get("X-Request-URL");var r="response"in c?c.response:c.responseText;o(new g(r,n))},c.onerror=function(){i(new TypeError("Network request failed"))},c.ontimeout=function(){i(new TypeError("Network request failed"))},c.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},c.open(s.method,s.url,!0),"include"===s.credentials?c.withCredentials=!0:"omit"===s.credentials&&(c.withCredentials=!1),"responseType"in c&&n.blob&&(c.responseType="blob"),s.headers.forEach((function(t,e){c.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",u),c.onreadystatechange=function(){4===c.readyState&&s.signal.removeEventListener("abort",u)}),c.send(void 0===s._bodyInit?null:s._bodyInit)}))}m.polyfill=!0,t.fetch||(t.fetch=m,t.Headers=a,t.Request=v,t.Response=g),e.Headers=a,e.Request=v,e.Response=g,e.fetch=m}({})}(n),delete n.fetch.polyfill,(e=n.fetch).default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,t.exports=e},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,u=[],f=!1,l=-1;function h(){f&&a&&(f=!1,a.length?u=a.concat(u):l=-1,u.length&&p())}function p(){if(!f){var t=c(h);f=!0;for(var e=u.length;e;){for(a=u,u=[];++l<e;)a&&a[l].run();l=-1,e=u.length}a=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||f||c(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function s(...t){if(!s.enabled)return;const e=s,o=Number(new Date),i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;c++;const i=r.formatters[o];if("function"==typeof i){const r=t[c];n=i.call(e,r),t.splice(c,1),c--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=o,s.extend=i,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function o(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function i(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){const t=[...r.names.map(s),...r.skips.map(s).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(119),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,s=7*i,c=365.25*i;function a(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}t.exports=function(t,e){e=e||{};var u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*c;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===u&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=i)return a(t,e,i,"day");if(e>=o)return a(t,e,o,"hour");if(e>=r)return a(t,e,r,"minute");if(e>=n)return a(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=i)return Math.round(t/i)+"d";if(e>=o)return Math.round(t/o)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";n(23),n(14),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(15))&&r.__esModule?r:{default:r};function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class c extends o.default{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;super(),this.connection=t,this.api=e,this.active=!1,this._listener=t=>this.message(t),this.identifier=r,this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({context:"*",subscribe:[{path:"*"}]},n)}getSubscriptionData(){return Object.assign({},{options:this.options,identifier:this.identifier})}subscribe(){const t={context:this.options.context,subscribe:this.options.subscribe,format:"delta",policy:"instant"};return this.connection.on("message",this._listener.bind(this)),this.connection.send(JSON.stringify(t)),this.active=!0,this.emit("subscribe"),Promise.resolve(this)}unsubscribe(){return this.active=!1,this.connection.removeListener("message",this._listener),this.connection.send(JSON.stringify({context:"vessels.dont_send_me_anything",subscribe:[{path:"dont_send_me_anything.dont_send_me_anything"}],format:"delta",policy:"instant"})),this.emit("unsubscribe"),Promise.resolve(this)}message(t){if(!1!==this.active){if("string"==typeof t&&""!==t.trim())try{t=JSON.parse(t)}catch(t){this.emit("error",t)}t&&"object"==typeof t&&t.hasOwnProperty("updates")&&this.emit("delta",t)}}}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(15)),o=s(n(36)),i=n(63);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const f=(0,o.default)("signalk-js-sdk/Request");class l extends r.default{constructor(t,e,n){super(),this.connection=t,this.requestId=(0,i.v4)(),this.name=e,this.body=n,this.responses=[],this.sent=!1,this.connection.on("message",t=>{t&&"object"==typeof t&&t.hasOwnProperty("requestId")&&t.requestId===this.requestId&&this.addResponse(t)})}query(){const t={requestId:this.requestId,query:!0};f("Sending query: ".concat(JSON.stringify(t,null,2))),this.connection.send(t)}send(){if(!0===this.sent)return;const t=a({requestId:this.requestId},this.body);f("Sending request: ".concat(JSON.stringify(t,null,2))),this.connection.send(t)}addResponse(t){f('Got response for request "'.concat(this.name,'": ').concat(JSON.stringify(t,null,2)));const e=(new Date).toISOString();this.responses.push({response:t,receivedAt:e}),this.emit("response",a({},t,{request:{receivedAt:e,name:this.name,requestId:this.requestId}}))}getRequestId(){return this.requestId}}e.default=l},function(t,e,n){var r,o,i=n(64),s=n(65),c=0,a=0;t.exports=function(t,e,n){var u=e&&n||0,f=e||[],l=(t=t||{}).node||r,h=void 0!==t.clockseq?t.clockseq:o;if(null==l||null==h){var p=i();null==l&&(l=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=o=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:a+1,y=d-c+(v-a)/1e4;if(y<0&&void 0===t.clockseq&&(h=h+1&16383),(y<0||d>c)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,a=v,o=h;var g=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;f[u++]=g>>>24&255,f[u++]=g>>>16&255,f[u++]=g>>>8&255,f[u++]=255&g;var b=d/4294967296*1e4&268435455;f[u++]=b>>>8&255,f[u++]=255&b,f[u++]=b>>>24&15|16,f[u++]=b>>>16&255,f[u++]=h>>>8|128,f[u++]=255&h;for(var m=0;m<6;++m)f[u+m]=l[m];return e||s(f)}},function(t,e,n){var r=n(64),o=n(65);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var c=0;c<16;++c)e[i+c]=s[c];return e||o(s)}},function(t,e,n){"use strict";n(22),n(34),n(14),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=
/**
 * @description   An API wraps the REST API for a Signal K server
 * @author        Fabian Tollenaar <fabian@decipher.industries>
 * @copyright     2018-2019, Fabian Tollenaar. All rights reserved.
 * @license       Apache-2.0
 * @module        @signalk/signalk-js-sdk
 */
class{constructor(t){this.connection=t,this.selfMRN=this.connection.self}get(t){return t.includes(".")&&(t=t.replace(/\./g,"/")),"string"==typeof t&&""!==t.trim()||(t="/"),"/"!==t.charAt(0)&&(t="/".concat(t)),this.connection.fetch(t)}put(t,e){return t.includes(".")&&(t=t.replace(/\./g,"/")),"string"==typeof t&&""!==t.trim()||(t="/"),"/"!==t.charAt(0)&&(t="/".concat(t)),this.connection.fetch(t,{method:"PUT",mode:"cors",body:e&&"object"==typeof e?JSON.stringify(e):e})}getMeta(t){return this.get(t).then(t=>t&&"object"==typeof t&&t.hasOwnProperty("meta")?t.meta:null)}sources(){return this.get("/sources")}resources(){return this.get("/resources")}mrn(){return this.get("/self")}vessels(){return this.get("/vessels")}aircraft(){return this.get("/aircraft")}aton(){return this.get("/aton")}sar(){return this.get("/sar")}version(){return this.get("/version")}self(t){return"string"==typeof t&&"/"===t.charAt(0)||(t=""),this.connection.fetch("/vessels/self".concat(t))}vessel(t,e){return"string"==typeof e&&"/"===e.charAt(0)||(e=""),this.connection.fetch("/vessels/".concat(t).concat(e))}name(){return this.self("/name")}getGroup(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"self";return"string"==typeof e&&"/"===e.charAt(0)||(e=""),"self"===n?this.self("/".concat(t).concat(e)):this.vessel(n,"/".concat(t).concat(e))}communication(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("communication",t,e)}design(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("design",t,e)}electrical(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("electrical",t,e)}environment(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("environment",t,e)}navigation(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("navigation",t,e)}notifications(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("notifications",t,e)}performance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("performance",t,e)}propulsion(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("propulsion",t,e)}sails(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("sails",t,e)}sensors(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("sensors",t,e)}steering(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("steering",t,e)}tanks(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";return this.getGroup("tanks",t,e)}}},function(t,e,n){"use strict";n(22),n(126),n(14),Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SKServer=void 0;var r=i(n(15)),o=i(n(37));function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class u{constructor(t){this._roles=t.roles||["master","main"],this._self=t.self||"",this._version=t.version||"0.0.0",this._hostname=t.hostname,this._port=t.port}get roles(){return this._roles}get self(){return this._self}get version(){return this._version}get hostname(){return this._hostname}get port(){return this._port}isMain(){return this._roles.includes("main")}isMaster(){return this._roles.includes("master")}createClient(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new o.default(c({},t,{hostname:this._hostname,port:this._port}))}}e.SKServer=u;class f extends r.default{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e4;if(super(),!t||"object"!=typeof t||!t.hasOwnProperty("createBrowser"))throw new Error("Invalid mDNS provider given");this.found=[];const n=t.createBrowser(t.tcp("_signalk-http"));n.on("serviceUp",t=>{const e=c({},t.txtRecord,{hostname:t.host||"",port:parseInt(t.port,10)});e.hasOwnProperty("roles")&&"string"==typeof e.roles&&e.roles.includes(",")&&(e.roles=e.roles.split(",").map(t=>t.trim().toLowerCase())),e.hasOwnProperty("roles")&&"string"==typeof e.roles&&!e.roles.includes(",")&&(e.roles=[e.roles].map(t=>t.trim().toLowerCase()));let n=e.hostname;Array.isArray(t.addresses)&&(n=t.addresses.reduce((t,e)=>(e&&"string"==typeof e&&e.includes(".")&&(t=e),t),e.hostname)),""!==n.trim()&&(e.hostname=n);const r=new u(e);this.found.push(r),this.emit("found",r)}),n.start(),setTimeout(()=>{0===this.found.length&&this.emit("timeout"),n.stop()},e)}}e.default=f},function(t,e,n){"use strict";var r=n(55),o=n(54),i=n(2),s=n(8),c=n(48),a=n(57),u=n(19),f=n(58),l=n(35),h=n(3),p=[].push,d=Math.min,v=!h((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(s(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var c,a,u,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,v=new RegExp(t.source,h+"g");(c=l.call(v,r))&&!((a=v.lastIndex)>d&&(f.push(r.slice(d,c.index)),c.length>1&&c.index<r.length&&p.apply(f,c.slice(1)),u=c[0].length,d=a,f.length>=i));)v.lastIndex===c.index&&v.lastIndex++;return d===r.length?!u&&v.test("")||f.push(""):f.push(r.slice(d)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=s(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var s=n(r,t,this,o,r!==e);if(s.done)return s.value;var l=i(t),h=String(this),p=c(l,RegExp),y=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),b=new p(v?l:"^(?:"+l.source+")",g),m=void 0===o?4294967295:o>>>0;if(0===m)return[];if(0===h.length)return null===f(b,h)?[h]:[];for(var w=0,O=0,x=[];O<h.length;){b.lastIndex=v?O:0;var S,_=f(b,v?h:h.slice(O));if(null===_||(S=d(u(b.lastIndex+(v?0:O)),h.length))===w)O=a(h,O,y);else{if(x.push(h.slice(w,O)),x.length===m)return x;for(var C=1;C<=_.length-1;C++)if(x.push(_[C]),x.length===m)return x;O=w=S}}return x.push(h.slice(w)),x}]}),!v)}]);